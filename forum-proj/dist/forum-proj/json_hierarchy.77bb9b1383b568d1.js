"use strict";(self.webpackChunkforum_proj=self.webpackChunkforum_proj||[]).push([[857],{5129:(Fe,_e,N)=>{N.d(_e,{x:()=>Z});var z=N(1872),S=N(1705),C=N(6589),L=N(5106),se=N(7166);class Z extends S._{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(C.f.new(this._root,{}))}baseRadius(){const _=this.getPrivate("radius",0),k=this.getPrivate("innerRadius",0),x=this.get("baseRadius",0);return k+se.Iy(x,_-k)}radius(){const _=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(_?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const _=this.get("textType","adjusted"),k=this.get("inside",!1),x=this.get("orientation");let w=L.LW(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",k);const D=L.O$(w),M=L.mC(w);let Q=this.baseRadius(),ie=this.radius();if(this._display.angle=0,"circular"==_)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",x),this._text.set("radius",ie);else{0==Q&&(w=0,ie=0);let ke=ie*M,ae=ie*D;"radial"==_?(this.setRaw("x",ke),this.setRaw("y",ae),w<90||w>270||"auto"!=x?(this._display.angle=w,this._flipped=!1):(this._display.angle=w+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==_?(this.setRaw("centerX",z.CI),this.setRaw("centerY",z.CI),this.setRaw("x",ke),this.setRaw("y",ae)):"regular"==_&&(this.setRaw("x",ke),this.setRaw("y",ae))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const _=this.get("textType","regular"),k=this.get("inside",!1);let x=0,w=0,D=this.get("labelAngle",0),M=this.localBounds(),Q=M.right-M.left,ie=M.bottom-M.top;if("radial"==_){if(this._flipped){let ke=this.get("centerX");ke instanceof z.gG&&(Q*=1-2*ke.value),x=Q*L.mC(D),w=Q*L.O$(D)}}else!k&&"adjusted"==_&&(x=Q/2*L.mC(D),w=ie/2*L.O$(D));this.setRaw("dx",x),this.setRaw("dy",w),super._updatePosition()}get text(){return this._text}}Object.defineProperty(Z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(Z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:S._.classNames.concat([Z.className])})},6589:(Fe,_e,N)=>{N.d(_e,{f:()=>C});var z=N(8740),S=N(5106);class C extends z.x{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*S.sE,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(C,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(C,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.x.classNames.concat([C.className])})},3792:(Fe,_e,N)=>{N.d(_e,{p:()=>Z});var z=N(314),S=N(8256),C=N(1872),L=N(6085),se=N(5106);class Z extends z.T{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:(0,L.Z)()})}_getTooltipPoint(){let _=this.get("tooltipX"),k=this.get("tooltipY"),x=0,w=0;S.hj(_)&&(x=_),S.hj(k)&&(w=k);let D=this.get("radius",0),M=this.get("innerRadius",0);return D+=this.get("dRadius",0),M+=this.get("dInnerRadius",0),M<0&&(M=D+M),_ instanceof C.gG&&(x=this.ix*(M+(D-M)*_.value)),k instanceof C.gG&&(w=this.iy*(M+(D-M)*k.value)),this.get("arc")>=360&&0==M&&(x=0,w=0),{x,y:w}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let _=this.get("startAngle",0),k=this.get("arc",0);const x=this._generator;k<0&&(_+=k,k*=-1),k>.1&&x.cornerRadius(this.get("cornerRadius",0)),x.context(this._display);let w=this.get("radius",0),D=this.get("innerRadius",0);w+=this.get("dRadius",0),D+=this.get("dInnerRadius",0),D<0&&(D=w+D),x({innerRadius:D,outerRadius:w,startAngle:(_+90)*se.sE,endAngle:(_+k+90)*se.sE});let ie=_+k/2;this.ix=se.mC(ie),this.iy=se.O$(ie)}if(this.isDirty("shiftRadius")){const _=this.get("shiftRadius",0);this.setRaw("dx",this.ix*_),this.setRaw("dy",this.iy*_),this.markDirtyPosition()}}}Object.defineProperty(Z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(Z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:z.T.classNames.concat([Z.className])})},7209:(Fe,_e,N)=>{N.d(_e,{BreadcrumbBar:()=>M,ForceDirected:()=>st,Hierarchy:()=>G,HierarchyLink:()=>he,HierarchyNode:()=>ae,LinkedHierarchy:()=>re,LinkedHierarchyNode:()=>ne,Pack:()=>ot,Partition:()=>Ze,Sunburst:()=>ut,Tree:()=>ct,Treemap:()=>dt});var z=N(2056),S=N(1872),C=N(4005),L=N(8707),se=N(7636);class Z extends z.Q{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this._root.gridLayout,i=this.rule.bind(this);i("Hierarchy").setAll({legendLabelText:"{category}",legendValueText:"{sum.formatNumber('#.#')}",width:S.AQ,height:S.AQ,colors:C.U.new(this._root,{step:2}),downDepth:1,initialDepth:5,singleBranchOnly:!0,maskContent:!0,animationEasing:se.C0(se.T7)}),i("HierarchyNode").setAll({toggleKey:"disabled",setStateOnChildren:!0,position:"absolute",isMeasured:!1,cursorOverStyle:"pointer",tooltipText:"{category}: {sum}"}),i("HierarchyNode",["last"]).setAll({cursorOverStyle:"default"});{const n=i("Label",["hierarchy","node"]);n.setAll({centerX:S.CI,centerY:S.CI,position:"absolute",paddingBottom:1,paddingTop:1,paddingRight:4,paddingLeft:4,text:"{category}",populateText:!0,oversizedBehavior:"fit",minScale:.3}),(0,L.v)(n,"fill",e,"alternativeText")}{const n=i("HierarchyLink");n.setAll({isMeasured:!1,position:"absolute",strokeWidth:1,strokeOpacity:1,strength:.9,distance:1.1}),(0,L.v)(n,"stroke",e,"grid")}i("Circle",["linkedhierarchy","shape"]).setAll({position:"absolute",fillOpacity:1,strokeOpacity:0,radius:15,tooltipY:0}),i("Circle",["linkedhierarchy","shape","outer"]).setAll({position:"absolute",opacity:1,fillOpacity:0,strokeDasharray:0,strokeOpacity:1,radius:15,scale:1.1,interactive:!1}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("disabled",{opacity:1,scale:1.1,strokeDasharray:2}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("hoverDisabled",{scale:1.2,opacity:1,strokeDasharray:2}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("hover",{scale:1.05,strokeDasharray:0}),i("Circle",["linkedhierarchy","shape","outer"]).states.create("hidden",{opacity:0,strokeDasharray:0}),i("BreadcrumbBar").setAll({paddingLeft:8,layout:t});{const n=i("Label",["breadcrumb"]);n.setAll({paddingRight:4,paddingLeft:4,cursorOverStyle:"pointer",populateText:!0,text:"{category}:"}),(0,L.v)(n,"fill",e,"primaryButton")}{const n=i("Label",["breadcrumb"]).states.create("hover",{});(0,L.v)(n,"fill",e,"primaryButtonHover")}{const n=i("Label",["breadcrumb"]).states.create("down",{stateAnimationDuration:0});(0,L.v)(n,"fill",e,"primaryButtonDown")}{const n=i("Label",["breadcrumb","last"]);n.setAll({populateText:!0,text:"{category}",fontWeight:"bold",cursorOverStyle:"default"}),(0,L.v)(n,"fill",e,"primaryButton")}{const n=i("RoundedRectangle",["breadcrumb","label","background"]);n.setAll({fillOpacity:0}),(0,L.v)(n,"fill",e,"background")}i("Partition").setAll({downDepth:1,upDepth:0,initialDepth:5}),i("HierarchyNode",["partition"]).setAll({setStateOnChildren:!1}),i("HierarchyNode",["partition"]).states.create("hidden",{opacity:1,visible:!0});{const n=i("Label",["partition","node"]);n.setAll({x:S.CI,y:S.CI,centerY:S.CI,centerX:S.CI,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,rotation:90,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),(0,L.v)(n,"fill",e,"alternativeText")}i("Label",["horizontal","partition","node"]).setAll({rotation:0});{const n=i("RoundedRectangle",["partition","node","shape"]);n.setAll({strokeOpacity:1,strokeWidth:1,cornerRadiusBR:0,cornerRadiusTR:0,cornerRadiusBL:0,cornerRadiusTL:0}),(0,L.v)(n,"stroke",e,"background")}i("RoundedRectangle",["partition","node","shape","last"]).setAll({fillOpacity:.75}),i("Sunburst").setAll({singleBranchOnly:!0}),i("HierarchyNode",["sunburst"]).setAll({setStateOnChildren:!1}),i("HierarchyNode",["sunburst"]).states.create("hidden",{opacity:0,visible:!1});{const n=i("Slice",["sunburst","node","shape"]);n.setAll({strokeOpacity:1,strokeWidth:1,cornerRadius:0}),(0,L.v)(n,"stroke",e,"background")}i("Slice",["sunburst","node","shape","last"]).setAll({fillOpacity:.75});{const n=i("RadialLabel",["sunburst","node"]);n.setAll({x:0,y:0,textType:"radial",paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,centerX:S.CI,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4,baseRadius:S.CI,rotation:0}),(0,L.v)(n,"fill",e,"alternativeText")}i("ForceDirected").setAll({minRadius:(0,S.aQ)(1),maxRadius:(0,S.aQ)(8),initialFrames:500,centerStrength:.8,manyBodyStrength:-14,velocityDecay:.5,linkWithStrength:.5,showOnFrame:10,singleBranchOnly:!1,upDepth:1/0,downDepth:1,initialDepth:5,topDepth:0}),i("Tree").setAll({orientation:"vertical",paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:20,singleBranchOnly:!1,upDepth:1/0,downDepth:1,initialDepth:5,topDepth:0}),i("Pack").setAll({paddingLeft:20,paddingTop:20,paddingBottom:20,paddingRight:20,nodePadding:0});{const n=i("Label",["pack","node"]);n.setAll({centerY:S.CI,centerX:S.CI,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),(0,L.v)(n,"fill",e,"alternativeText")}{const n=i("Circle",["pack","node","shape"]);n.setAll({strokeOpacity:.5,fillOpacity:.8,strokeWidth:1}),(0,L.v)(n,"stroke",e,"background")}i("LinkedHierarchyNode").setAll({draggable:!0}),i("LinkedHierarchyNode").states.create("hidden",{scale:0,opacity:0,visible:!1}),i("Treemap").setAll({upDepth:0,layoutAlgorithm:"squarify"});{const n=i("Label",["treemap","node"]);n.setAll({x:S.CI,y:S.CI,centerY:S.CI,centerX:S.CI,paddingBottom:1,paddingTop:1,paddingLeft:1,paddingRight:1,populateText:!0,text:"{category}",oversizedBehavior:"fit",minScale:.4}),(0,L.v)(n,"fill",e,"alternativeText")}i("HierarchyNode",["treemap","node"]).setAll({tooltipY:(0,S.aQ)(40),isMeasured:!1,position:"absolute"});{const n=i("RoundedRectangle",["treemap","node","shape"]);n.setAll({strokeOpacity:1,strokeWidth:1,cornerRadiusBR:0,cornerRadiusTR:0,cornerRadiusBL:0,cornerRadiusTL:0,fillOpacity:1}),(0,L.v)(n,"stroke",e,"background")}}}var K=N(7970),_=N(1705),k=N(1519),x=N(5344),w=N(7379),D=N(7166);class M extends K.W{constructor(){super(...arguments),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>_._._new(this._root,{themeTags:D.Fy(this.labels.template.get("themeTags",[]),["label"]),background:k.c.new(this._root,{themeTags:["background"]})},[this.labels.template]))}),Object.defineProperty(this,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeLabel(e){const t=this.labels.make();return t._setDataItem(e),t.states.create("hover",{}),t.states.create("down",{}),t.events.on("click",()=>{const i=this.get("series");i&&i.selectDataItem(e)}),this.labels.push(t),t}_afterNew(){this._defaultThemes.push(Z.new(this._root)),this._settings.themeTags=D.Fy(this._settings.themeTags,["breadcrumb"]),super._afterNew()}_changed(){if(super._changed(),this.isDirty("series")){const e=this.get("series"),t=this._prevSettings.series;e!=t?this._disposer=e.events.on("dataitemselected",i=>{this._handleDataItem(i.dataItem)}):t&&this._disposer&&this._disposer.dispose(),this._handleDataItem(e.get("selectedDataItem"))}}_handleDataItem(e){if(this.set("minHeight",this.height()),this.children.clear(),this.labels.clear(),e){let t=e;for(;t;){let i=this.makeLabel(t);t==e&&i.addTag("last"),this.children.moveValue(i,0),t=t.get("parent")}}}}Object.defineProperty(M,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BreadcrumbBar"}),Object.defineProperty(M,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.W.classNames.concat([M.className])});var Q=N(655),ie=N(6433),ke=N(3419);class ae extends K.W{constructor(){super(...arguments),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_clickDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this.states.create("disabled",{}),this.states.create("hover",{}),this.states.create("hoverDisabled",{}),this.on("disabled",()=>{const e=this.dataItem;if(!e.get("children"))return void this.set("disabled",!0);const t=this.get("disabled"),i=this.series;e&&i&&e.get("disabled")!=t&&(t?i.disableDataItem(e):i.enableDataItem(e,i.get("downDepth",1),0))})}_changed(){super._changed(),this.isDirty("toggleKey")&&("disabled"==this.get("toggleKey")?this._clickDisposer=this.events.on("click",()=>{if(!this._isDragging){let t=this.series;t&&t.selectDataItem(this.dataItem)}}):this._clickDisposer&&this._clickDisposer.dispose())}}Object.defineProperty(ae,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HierarchyNode"}),Object.defineProperty(ae,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:K.W.classNames.concat([ae.className])});var O=N(9660),te=N(8256);function He(s){var e=0,t=s.children,i=t&&t.length;if(i)for(;--i>=0;)e+=t[i].value;else e=1;s.value=e}function oe(s,e){s instanceof Map?(s=[void 0,s],void 0===e&&(e=le)):void 0===e&&(e=U);for(var i,r,a,o,u,t=new V(s),n=[t];i=n.pop();)if((a=e(i.data))&&(u=(a=Array.from(a)).length))for(i.children=a,o=u-1;o>=0;--o)n.push(r=a[o]=new V(a[o])),r.parent=i,r.depth=i.depth+1;return t.eachBefore(Le)}function U(s){return s.children}function le(s){return Array.isArray(s)?s[1]:null}function ue(s){void 0!==s.data.value&&(s.value=s.data.value),s.data=s.data.data}function Le(s){var e=0;do{s.height=e}while((s=s.parent)&&s.height<++e)}function V(s){this.data=s,this.depth=this.height=0,this.parent=null}V.prototype=oe.prototype={constructor:V,count:function Y(){return this.eachAfter(He)},each:function W(s,e){let t=-1;for(const i of this)s.call(e,i,++t,this);return this},eachAfter:function j(s,e){for(var r,a,o,t=this,i=[t],n=[],u=-1;t=i.pop();)if(n.push(t),r=t.children)for(a=0,o=r.length;a<o;++a)i.push(r[a]);for(;t=n.pop();)s.call(e,t,++u,this);return this},eachBefore:function pe(s,e){for(var n,r,t=this,i=[t],a=-1;t=i.pop();)if(s.call(e,t,++a,this),n=t.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function be(s,e){let t=-1;for(const i of this)if(s.call(e,i,++t,this))return i},sum:function Ae(s){return this.eachAfter(function(e){for(var t=+s(e.data)||0,i=e.children,n=i&&i.length;--n>=0;)t+=i[n].value;e.value=t})},sort:function Ne(s){return this.eachBefore(function(e){e.children&&e.children.sort(s)})},path:function xe(s){for(var e=this,t=function we(s,e){if(s===e)return s;var t=s.ancestors(),i=e.ancestors(),n=null;for(s=t.pop(),e=i.pop();s===e;)n=s,s=t.pop(),e=i.pop();return n}(e,s),i=[e];e!==t;)i.push(e=e.parent);for(var n=i.length;s!==t;)i.splice(n,0,s),s=s.parent;return i},ancestors:function Ce(){for(var s=this,e=[s];s=s.parent;)e.push(s);return e},descendants:function I(){return Array.from(this)},leaves:function Oe(){var s=[];return this.eachBefore(function(e){e.children||s.push(e)}),s},links:function X(){var s=this,e=[];return s.each(function(t){t!==s&&e.push({source:t.parent,target:t})}),e},copy:function H(){return oe(this).eachBefore(ue)},[Symbol.iterator]:function*A(){var e,i,n,r,s=this,t=[s];do{for(e=t.reverse(),t=[];s=e.pop();)if(yield s,i=s.children)for(n=0,r=i.length;n<r;++n)t.push(i[n])}while(t.length)}};class G extends ie.F{constructor(){super(...arguments),Object.defineProperty(this,"nodesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(K.W.new(this._root,{isMeasured:!1}))}),Object.defineProperty(this,"_rootNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_treeData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"hierarchy"}),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>ae.new(this._root,{themeTags:D.Fy(this.nodes.template.get("themeTags",[]),[this._tag,"hierarchy","node"])},this.nodes.template))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>_._.new(this._root,{themeTags:D.Fy(this.labels.template.get("themeTags",[]),[this._tag])},this.labels.template))}),Object.defineProperty(this,"_currentDownDepth",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeNode(e){const t=e.get("childData"),i=this.nodes.make();i.series=this,i._setDataItem(e),this.nodes.push(i),e.setRaw("node",i);const n=this.labels.make();n._setDataItem(e),e.setRaw("label",n),this.labels.push(n),(!t||0==t.length)&&i.addTag("last");const r=e.get("depth");return i.addTag("depth"+r),this.nodesContainer.children.push(i),i.children.push(n),i}_afterNew(){this._defaultThemes.push(Z.new(this._root)),this.fields.push("category","childData","disabled","fill"),this.children.push(this.bulletsContainer),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this._valuesDirty){this._treeData={};const e=this.dataItems[0];if(e&&(this._makeHierarchyData(this._treeData,e),this._index=0,this._rootNode=oe(this._treeData),this._rootNode)){this._rootNode.sum(i=>i.value);const t=this.get("sort");"descending"==t?this._rootNode.sort((i,n)=>n.value-i.value):"ascending"==t&&this._rootNode.sort((i,n)=>i.value-n.value),this.setPrivateRaw("valueLow",1/0),this.setPrivateRaw("valueHigh",-1/0),this.setPrivateRaw("maxDepth",0),this._updateValues(this._rootNode)}}(this._valuesDirty||this._sizeDirty)&&this._updateVisuals(),this._sizeDirty&&this._selectDataItem(this.get("selectedDataItem"),this._currentDownDepth,!1)}_changed(){super._changed(),this.isDirty("selectedDataItem")&&this._selectDataItem(this.get("selectedDataItem"))}_updateVisuals(){this._rootNode&&this._updateNodes(this._rootNode)}_updateNodes(e){const t=e.data.dataItem;if(t){this._updateNode(t),this.bullets.length>0&&!t.bullets&&this._makeBullets(t);const i=e.children;i&&O.S6(i,n=>{this._updateNodes(n)})}}_updateNode(e){}_getDataItemById(e,t){let i;return O.S6(e,n=>{n.get("id")==t&&(i=n);const r=n.get("children");if(r){let a=this._getDataItemById(r,t);a&&(i=a)}}),i}_handleBullets(e){O.S6(e,t=>{const i=t.bullets;i&&(O.S6(i,r=>{r.dispose()}),t.bullets=void 0);const n=t.get("children");n&&this._handleBullets(n)}),this._updateVisuals()}_onDataClear(){super._onDataClear();const e=this.get("colors");e&&e.reset()}processDataItem(e){super.processDataItem(e);const t=e.get("childData"),i=this.get("colors"),n=this.get("topDepth",0);e.get("parent")||(e.setRaw("depth",0),i&&0==n&&null==e.get("fill")&&e.setRaw("fill",i.next()));let r=e.get("depth");const a=this.get("initialDepth",1);if(this.makeNode(e),this._processDataItem(e),t){const u=[];e.setRaw("children",u),O.S6(t,l=>{const h=new ke.z(this,l,this._makeDataItem(l));u.push(h),h.setRaw("parent",e),h.setRaw("depth",r+1),1==this.dataItems.length&&0==r?i&&null==h.get("fill")&&h.setRaw("fill",i.next()):null==h.get("fill")&&h.setRaw("fill",e.get("fill")),this.processDataItem(h)})}const o=e.get("children");(!o||0==o.length)&&e.get("node").setAll({toggleKey:void 0}),null==e.get("disabled")&&r>=n+a&&this.disableDataItem(e,0)}_processDataItem(e){}_updateValues(e){const t=e.data.dataItem;if(e.depth>this.getPrivate("maxDepth")&&this.setPrivateRaw("maxDepth",e.depth),t){t.setRaw("d3HierarchyNode",e),e.index=this._index,this._index++,t.get("node").set("disabled",t.get("disabled"));let n=e.data.value,r=e.value;if(null!=n&&(r=n,e.value=r),te.hj(r)){t.setRaw("sum",r),t.setRaw("valuePercentTotal",r/this.dataItems[0].get("sum")*100);let a=100;const o=t.get("parent");o&&(a=r/o.get("sum")*100),t.get("label").text.markDirtyText(),t.setRaw("valuePercent",a),this.getPrivate("valueLow")>r&&this.setPrivateRaw("valueLow",r),this.getPrivate("valueHigh")<r&&this.setPrivateRaw("valueHigh",r)}this.updateLegendValue(t)}const i=e.children;i&&O.S6(i,n=>{this._updateValues(n)})}_makeHierarchyData(e,t){e.dataItem=t;const i=t.get("children");if(i){const n=[];e.children=n,O.S6(i,a=>{const o={};n.push(o),this._makeHierarchyData(o,a)});const r=t.get("valueWorking");te.hj(r)&&(e.value=r)}else{const n=t.get("valueWorking");te.hj(n)&&(e.value=n)}}disposeDataItem(e){super.disposeDataItem(e);const t=e.get("node");t&&(this.nodes.removeValue(t),t.dispose());const i=e.get("label");i&&(this.labels.removeValue(i),i.dispose());const n=e.get("children");n&&O.S6(n,r=>{this.disposeDataItem(r)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,Q.mG)(this,void 0,void 0,function*(){const n=[i.hideDataItem.call(this,e,t)],r=this.states.create("hidden",{});if(!te.hj(t)){const h="stateAnimationDuration";t=r.get(h,this.get(h,0))}const a="stateAnimationEasing",o=r.get(a,this.get(a)),u=e.get("children");(!u||0==u.length)&&te.hj(e.get("value"))&&n.push(e.animate({key:"valueWorking",to:0,duration:t,easing:o}).waitForStop());const l=e.get("node");l.hide(),l.hideTooltip(),u&&O.S6(u,h=>{n.push(this.hideDataItem(h))}),yield Promise.all(n)})}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,Q.mG)(this,void 0,void 0,function*(){const n=[i.showDataItem.call(this,e,t)];te.hj(t)||(t=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing"),a=e.get("children");(!a||0==a.length)&&te.hj(e.get("value"))&&n.push(e.animate({key:"valueWorking",to:e.get("value"),duration:t,easing:r}).waitForStop()),e.get("node").show(),a&&O.S6(a,u=>{n.push(this.showDataItem(u))}),yield Promise.all(n)})}enableDataItem(e,t,i,n){null==i&&(i=0),null==t&&(t=1),e.set("disabled",!1),e.get("node").set("disabled",!1),e.isHidden()||e.get("node").show(n);const r=this.get("topDepth",0);if(e.get("depth")<r&&e.get("node").hide(0),0==i){const o=this.get("upDepth",1/0);let u=e,l=0;for(;void 0!==u;)l>o&&u.get("node").hide(),u=u.get("parent"),l++}let a=e.get("children");a&&O.S6(a,i<t-1?o=>{!0!==o.get("disabled")?this.enableDataItem(o,t,i+1,n):this.disableDataItem(o)}:o=>{o.isHidden()||(o.get("node").show(n),o.get("node").states.applyAnimate("disabled"),o.set("disabled",!0),this.disableDataItem(o))})}disableDataItem(e,t){e.set("disabled",!0);let i=e.get("children");i&&O.S6(i,n=>{this.disableDataItem(n,t),n.get("node").hide(t)})}_selectDataItem(e,t,i){if(e){if(!i){const l="dataitemselected";this.events.dispatch(l,{type:l,target:this,dataItem:e})}let n=this.getPrivate("maxDepth",1);const r=this.get("topDepth",0);null==t&&(t=Math.min(this.get("downDepth",1),n-e.get("depth"))),this.inited||(t=Math.min(this.get("initialDepth",1),n-r)),this._currentDownDepth=t;const a=e.get("d3HierarchyNode");let o=a.depth;o+t>n&&(t=n-o),o<r&&(t+=r-o,o=r);const u=e.get("children");u&&u.length>0?(t>0?this.enableDataItem(e,t):(e.get("node").show(),O.S6(u,l=>{l.get("node").hide()})),a.depth<r&&e.get("node").hide(0),this.get("singleBranchOnly")&&this._handleSingle(e)):this.enableDataItem(this.dataItems[0],t,0),this._zoom(e)}}_zoom(e){}_handleSingle(e){const t=e.get("parent");if(t){const i=t.get("children");i&&O.S6(i,n=>{n!=e&&this.disableDataItem(n)})}}selectDataItem(e){const t=e.get("parent"),i=this.getPrivate("maxDepth",1);if(this.get("selectedDataItem")==e)if(t)this.set("selectedDataItem",t);else{let n=Math.min(this.get("downDepth",1),i-e.get("depth"));this._currentDownDepth==n&&(n=Math.min(this.get("initialDepth",1),i-this.get("topDepth",0))),this._selectDataItem(e,n)}else this.set("selectedDataItem",e)}_makeBullet(e,t,i){const n=super._makeBullet(e,t,i);if(n){const r=n.get("sprite"),a=e.get("node");r&&(a.children.push(r),a.on("width",()=>{this._positionBullet(n)}),a.on("height",()=>{this._positionBullet(n)}))}return n}_positionBullet(e){const t=e.get("sprite");if(t){const i=t.dataItem,n=e.get("locationX",.5),r=e.get("locationY",.5),a=i.get("node");t.set("x",a.width()*n),t.set("y",a.height()*r)}}hoverDataItem(e){const t=e.get("node");t&&!t.isHidden()&&t.hover()}unhoverDataItem(e){const t=e.get("node");t&&t.unhover()}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Hierarchy"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ie.F.classNames.concat([G.className])});class ne extends ae{_afterNew(){super._afterNew(),this.states.create("disabled",{}),this.states.create("hover",{}),this.states.create("hoverDisabled",{})}_updateLinks(e){const t=this.dataItem;if(t){let i=t.get("links");O.S6(i,n=>{let r=n.get("source"),a=n.get("target");r&&a&&(r.get("node").isHidden()||a.get("node").isHidden()?n.hide(e):n.show(e))})}}_prepareChildren(){super._prepareChildren(),this.isDirty("disabled")&&this._updateLinks()}_onHide(e){super._onHide(e),this._updateLinks(e)}_onShow(e){super._onShow(e),this._updateLinks(e)}}Object.defineProperty(ne,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinkedHierarchyNode"}),Object.defineProperty(ne,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ae.classNames.concat([ne.className])});var ye=N(314);class he extends ye.T{_changed(){if(super._changed(),this._clear){let e=this.get("source"),t=this.get("target");if(e&&t){const i=e.get("node"),n=t.get("node");this._display.moveTo(i.x(),i.y()),this._display.lineTo(n.x(),n.y())}}}_beforeChanged(){if(super._beforeChanged(),this.isDirty("source")){const e=this.get("source");e&&e.get("node").events.on("positionchanged",()=>{this._markDirtyKey("stroke")})}if(this.isDirty("target")){const e=this.get("target");e&&e.get("node").events.on("positionchanged",()=>{this._markDirtyKey("stroke")})}}}Object.defineProperty(he,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HierarchyLink"}),Object.defineProperty(he,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.T.classNames.concat([he.className])});var me=N(9762);class re extends G{constructor(){super(...arguments),Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>ne._new(this._root,{themeTags:D.Fy(this.nodes.template.get("themeTags",[]),[this._tag,"linkedhierarchy","hierarchy","node"]),x:this.width()/2,y:this.height()/2},[this.nodes.template]))}),Object.defineProperty(this,"circles",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>me.C._new(this._root,{themeTags:D.Fy(this.circles.template.get("themeTags",[]),[this._tag,"shape"])},[this.circles.template]))}),Object.defineProperty(this,"outerCircles",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>me.C._new(this._root,{themeTags:D.Fy(this.outerCircles.template.get("themeTags",[]),[this._tag,"outer","shape"])},[this.outerCircles.template]))}),Object.defineProperty(this,"links",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>he._new(this._root,{themeTags:D.Fy(this.links.template.get("themeTags",[]),[this._tag,"linkedhierarchy","hierarchy","link"])},[this.links.template]))}),Object.defineProperty(this,"linksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.moveValue(K.W.new(this._root,{}),0)})}_afterNew(){this.fields.push("linkWith","x","y"),super._afterNew()}makeNode(e){const t=super.makeNode(e),i=t.children.moveValue(this.circles.make(),0);this.circles.push(i),t.setPrivate("tooltipTarget",i),e.setRaw("circle",i);const n=t.children.moveValue(this.outerCircles.make(),0);this.outerCircles.push(n),e.setRaw("outerCircle",n);const r=e.get("label");i.on("radius",()=>{const o=2*i.get("radius",this.width());r.setAll({maxWidth:o,maxHeight:o}),n.set("radius",o/2),this._handleRadiusChange()});const a=2*i.get("radius",this.width());return r.setAll({maxWidth:a,maxHeight:a}),i._setDataItem(e),n._setDataItem(e),t}_handleRadiusChange(){}processDataItem(e){e.setRaw("childLinks",[]),e.setRaw("links",[]),super.processDataItem(e)}_processDataItem(e){super._processDataItem(e);const t=e.get("parent");if(t&&t.get("depth")>=this.get("topDepth")){const n=this.linkDataItems(t,e);e.setRaw("parentLink",n)}const i=e.get("node");this.updateLinkWith(this.dataItems),i._updateLinks(0)}updateLinkWith(e){O.S6(e,t=>{const i=t.get("linkWith");i&&O.S6(i,r=>{const a=this._getDataItemById(this.dataItems,r);a&&this.linkDataItems(t,a)});const n=t.get("children");n&&this.updateLinkWith(n)})}_getPoint(e){return{x:e.x,y:e.y}}_animatePositions(e){const t=e.get("node"),i=e.get("d3HierarchyNode"),n=this._getPoint(i),r=this.get("animationDuration",0),a=this.get("animationEasing");t.animate({key:"x",to:n.x,duration:r,easing:a}),t.animate({key:"y",to:n.y,duration:r,easing:a})}_updateNode(e){super._updateNode(e),this._animatePositions(e);const i=e.get("d3HierarchyNode").children;i&&O.S6(i,u=>{this._updateNodes(u)});const n=e.get("fill"),r=e.get("circle"),a=e.get("children");r&&(r._setDefault("fill",n),r._setDefault("stroke",n));const o=e.get("outerCircle");o&&(o._setDefault("fill",n),o._setDefault("stroke",n),(!a||0==a.length)&&o.setPrivate("visible",!1))}linkDataItems(e,t,i){let n;const r=e.get("links");r&&O.S6(r,o=>{o.get("target")==t&&(n=o)});const a=t.get("links");return a&&O.S6(a,o=>{o.get("target")==e&&(n=o)}),n||(n=this.links.make(),this.links.push(n),this.linksContainer.children.push(n),n.set("source",e),n.set("target",t),n._setDataItem(e),n.set("stroke",e.get("fill")),null!=i&&n.set("strength",i),e.get("childLinks").push(n),O.pB(e.get("links"),n),O.pB(t.get("links"),n),this._processLink(n,e,t)),n}unlinkDataItems(e,t){let i;const n=e.get("links");n&&O.S6(n,a=>{a&&a.get("target")==t&&(i=a,O.Od(n,i))});const r=t.get("links");r&&O.S6(r,a=>{a&&a.get("target")==e&&(i=a,O.Od(r,i))}),i&&this._disposeLink(i),this._handleUnlink()}_handleUnlink(){}_disposeLink(e){this.links.removeValue(e),e.dispose()}areLinked(e,t){const i=e.get("links");let n=!1;i&&O.S6(i,a=>{a.get("target")==t&&(n=!0)});const r=t.get("links");return r&&O.S6(r,a=>{a.get("target")==e&&(n=!0)}),n}_processLink(e,t,i){}disposeDataItem(e){super.disposeDataItem(e);const t=e.get("links");t&&O.S6(t,i=>{this._disposeLink(i)})}selectDataItem(e){const t=e.get("parent");if(e.get("disabled")){if(t){this.setRaw("selectedDataItem",t);const i="dataitemselected";this.events.dispatch(i,{type:i,target:this,dataItem:t}),this.disableDataItem(e)}}else this.set("selectedDataItem",e)}}Object.defineProperty(re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinkedHierarchy"}),Object.defineProperty(re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:G.classNames.concat([re.className])});var Te=N(903),Se=N(392);const Pe=1664525,ve=1013904223,de=4294967296;function E(s){return s.x}function je(s){return s.y}var Ye=10,Me=Math.PI*(3-Math.sqrt(5));function Be(s){var e,t=1,i=.001,n=1-Math.pow(i,1/300),r=0,a=.6,o=new Map,u=(0,Se.HT)(p),l=(0,Te.Z)("tick","end"),h=function T(){let s=1;return()=>(s=(Pe*s+ve)%de)/de}();function p(){c(),l.call("tick",e),t<i&&(u.stop(),l.call("end",e))}function c(g){var d,v,y=s.length;void 0===g&&(g=1);for(var P=0;P<g;++P)for(t+=(r-t)*n,o.forEach(function(b){b(t)}),d=0;d<y;++d)null==(v=s[d]).fx?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),null==v.fy?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return e}function f(){for(var y,g=0,d=s.length;g<d;++g){if((y=s[g]).index=g,null!=y.fx&&(y.x=y.fx),null!=y.fy&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=Ye*Math.sqrt(.5+g),P=g*Me;y.x=v*Math.cos(P),y.y=v*Math.sin(P)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(s,h),g}return null==s&&(s=[]),f(),e={tick:c,restart:function(){return u.restart(p),e},stop:function(){return u.stop(),e},nodes:function(g){return arguments.length?(s=g,f(),o.forEach(m),e):s},alpha:function(g){return arguments.length?(t=+g,e):t},alphaMin:function(g){return arguments.length?(i=+g,e):i},alphaDecay:function(g){return arguments.length?(n=+g,e):+n},alphaTarget:function(g){return arguments.length?(r=+g,e):r},velocityDecay:function(g){return arguments.length?(a=1-g,e):1-a},randomSource:function(g){return arguments.length?(h=g,o.forEach(m),e):h},force:function(g,d){return arguments.length>1?(null==d?o.delete(g):o.set(g,m(d)),e):o.get(g)},find:function(g,d,y){var b,R,B,J,F,v=0,P=s.length;for(null==y?y=1/0:y*=y,v=0;v<P;++v)(B=(b=g-(J=s[v]).x)*b+(R=d-J.y)*R)<y&&(F=J,y=B);return F},on:function(g,d){return arguments.length>1?(l.on(g,d),e):l.on(g)}}}function Ee(s,e,t,i){if(isNaN(e)||isNaN(t))return s;var n,p,c,f,m,g,d,y,v,r=s._root,a={data:i},o=s._x0,u=s._y0,l=s._x1,h=s._y1;if(!r)return s._root=a,s;for(;r.length;)if((g=e>=(p=(o+l)/2))?o=p:l=p,(d=t>=(c=(u+h)/2))?u=c:h=c,n=r,!(r=r[y=d<<1|g]))return n[y]=a,s;if(f=+s._x.call(null,r.data),m=+s._y.call(null,r.data),e===f&&t===m)return a.next=r,n?n[y]=a:s._root=a,s;do{n=n?n[y]=new Array(4):s._root=new Array(4),(g=e>=(p=(o+l)/2))?o=p:l=p,(d=t>=(c=(u+h)/2))?u=c:h=c}while((y=d<<1|g)==(v=(m>=c)<<1|f>=p));return n[v]=r,n[y]=a,s}function $(s,e,t,i,n){this.node=s,this.x0=e,this.y0=t,this.x1=i,this.y1=n}function Et(s){return s[0]}function zt(s){return s[1]}function ft(s,e,t){var i=new gt(e??Et,t??zt,NaN,NaN,NaN,NaN);return null==s?i:i.addAll(s)}function gt(s,e,t,i,n,r){this._x=s,this._y=e,this._x0=t,this._y0=i,this._x1=n,this._y1=r,this._root=void 0}function wt(s){for(var e={data:s.data},t=e;s=s.next;)t=t.next={data:s.data};return e}var fe=ft.prototype=gt.prototype;function ge(s){return function(){return s}}function Ie(s){return 1e-6*(s()-.5)}function Yt(s){return s.x+s.vx}function Xt(s){return s.y+s.vy}function Vt(s){var e,t,i,n=1,r=1;function a(){for(var l,p,c,f,m,g,d,h=e.length,y=0;y<r;++y)for(p=ft(e,Yt,Xt).visitAfter(o),l=0;l<h;++l)d=(g=t[(c=e[l]).index])*g,f=c.x+c.vx,m=c.y+c.vy,p.visit(v);function v(P,b,R,B,J){var F=P.data,ee=P.r,q=g+ee;if(!F)return b>f+q||B<f-q||R>m+q||J<m-q;if(F.index>c.index){var ce=f-F.x-F.vx,Re=m-F.y-F.vy,De=ce*ce+Re*Re;De<q*q&&(0===ce&&(De+=(ce=Ie(i))*ce),0===Re&&(De+=(Re=Ie(i))*Re),De=(q-(De=Math.sqrt(De)))/De*n,c.vx+=(ce*=De)*(q=(ee*=ee)/(d+ee)),c.vy+=(Re*=De)*q,F.vx-=ce*(q=1-q),F.vy-=Re*q)}}}function o(l){if(l.data)return l.r=t[l.data.index];for(var h=l.r=0;h<4;++h)l[h]&&l[h].r>l.r&&(l.r=l[h].r)}function u(){if(e){var l,p,h=e.length;for(t=new Array(h),l=0;l<h;++l)t[(p=e[l]).index]=+s(p,l,e)}}return"function"!=typeof s&&(s=ge(null==s?1:+s)),a.initialize=function(l,h){e=l,i=h,u()},a.iterations=function(l){return arguments.length?(r=+l,a):r},a.strength=function(l){return arguments.length?(n=+l,a):n},a.radius=function(l){return arguments.length?(s="function"==typeof l?l:ge(+l),u(),a):s},a}function Kt(s){return s.index}function Dt(s,e){var t=s.get(e);if(!t)throw new Error("node not found: "+e);return t}function pt(s){var i,r,a,o,u,l,e=Kt,t=function p(d){return 1/Math.min(o[d.source.index],o[d.target.index])},n=ge(30),h=1;function c(d){for(var y=0,v=s.length;y<h;++y)for(var b,R,B,J,F,ee,q,P=0;P<v;++P)J=(B=(b=s[P]).target).x+B.vx-(R=b.source).x-R.vx||Ie(l),F=B.y+B.vy-R.y-R.vy||Ie(l),F*=ee=((ee=Math.sqrt(J*J+F*F))-r[P])/ee*d*i[P],B.vx-=(J*=ee)*(q=u[P]),B.vy-=F*q,R.vx+=J*(q=1-q),R.vy+=F*q}function f(){if(a){var d,b,y=a.length,v=s.length,P=new Map(a.map((R,B)=>[e(R,B,a),R]));for(d=0,o=new Array(y);d<v;++d)(b=s[d]).index=d,"object"!=typeof b.source&&(b.source=Dt(P,b.source)),"object"!=typeof b.target&&(b.target=Dt(P,b.target)),o[b.source.index]=(o[b.source.index]||0)+1,o[b.target.index]=(o[b.target.index]||0)+1;for(d=0,u=new Array(v);d<v;++d)u[d]=o[(b=s[d]).source.index]/(o[b.source.index]+o[b.target.index]);i=new Array(v),m(),r=new Array(v),g()}}function m(){if(a)for(var d=0,y=s.length;d<y;++d)i[d]=+t(s[d],d,s)}function g(){if(a)for(var d=0,y=s.length;d<y;++d)r[d]=+n(s[d],d,s)}return null==s&&(s=[]),c.initialize=function(d,y){a=d,l=y,f()},c.links=function(d){return arguments.length?(s=d,f(),c):s},c.id=function(d){return arguments.length?(e=d,c):e},c.iterations=function(d){return arguments.length?(h=+d,c):h},c.strength=function(d){return arguments.length?(t="function"==typeof d?d:ge(+d),m(),c):t},c.distance=function(d){return arguments.length?(n="function"==typeof d?d:ge(+d),g(),c):n},c}fe.copy=function(){var t,i,s=new gt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return s;if(!e.length)return s._root=wt(e),s;for(t=[{source:e,target:s._root=new Array(4)}];e=t.pop();)for(var n=0;n<4;++n)(i=e.source[n])&&(i.length?t.push({source:i,target:e.target[n]=new Array(4)}):e.target[n]=wt(i));return s},fe.add=function Xe(s){const e=+this._x.call(null,s),t=+this._y.call(null,s);return Ee(this.cover(e,t),e,t,s)},fe.addAll=function Ve(s){var e,t,n,r,i=s.length,a=new Array(i),o=new Array(i),u=1/0,l=1/0,h=-1/0,p=-1/0;for(t=0;t<i;++t)isNaN(n=+this._x.call(null,e=s[t]))||isNaN(r=+this._y.call(null,e))||(a[t]=n,o[t]=r,n<u&&(u=n),n>h&&(h=n),r<l&&(l=r),r>p&&(p=r));if(u>h||l>p)return this;for(this.cover(u,l).cover(h,p),t=0;t<i;++t)Ee(this,a[t],o[t],s[t]);return this},fe.cover=function Ke(s,e){if(isNaN(s=+s)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,n=this._x1,r=this._y1;if(isNaN(t))n=(t=Math.floor(s))+1,r=(i=Math.floor(e))+1;else{for(var u,l,a=n-t||1,o=this._root;t>s||s>=n||i>e||e>=r;)switch(l=(e<i)<<1|s<t,u=new Array(4),u[l]=o,o=u,a*=2,l){case 0:n=t+a,r=i+a;break;case 1:t=n-a,r=i+a;break;case 2:n=t+a,i=r-a;break;case 3:t=n-a,i=r-a}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=i,this._x1=n,this._y1=r,this},fe.data=function Qe(){var s=[];return this.visit(function(e){if(!e.length)do{s.push(e.data)}while(e=e.next)}),s},fe.extent=function Ge(s){return arguments.length?this.cover(+s[0][0],+s[0][1]).cover(+s[1][0],+s[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fe.find=function $e(s,e,t){var i,a,o,u,l,m,g,n=this._x0,r=this._y0,h=this._x1,p=this._y1,c=[],f=this._root;for(f&&c.push(new $(f,n,r,h,p)),null==t?t=1/0:(n=s-t,r=e-t,h=s+t,p=e+t,t*=t);m=c.pop();)if(!(!(f=m.node)||(a=m.x0)>h||(o=m.y0)>p||(u=m.x1)<n||(l=m.y1)<r))if(f.length){var d=(a+u)/2,y=(o+l)/2;c.push(new $(f[3],d,y,u,l),new $(f[2],a,y,d,l),new $(f[1],d,o,u,y),new $(f[0],a,o,d,y)),(g=(e>=y)<<1|s>=d)&&(m=c[c.length-1],c[c.length-1]=c[c.length-1-g],c[c.length-1-g]=m)}else{var v=s-+this._x.call(null,f.data),P=e-+this._y.call(null,f.data),b=v*v+P*P;if(b<t){var R=Math.sqrt(t=b);n=s-R,r=e-R,h=s+R,p=e+R,i=f.data}}return i},fe.remove=function Je(s){if(isNaN(h=+this._x.call(null,s))||isNaN(p=+this._y.call(null,s)))return this;var e,i,n,r,h,p,c,f,m,g,d,y,t=this._root,a=this._x0,o=this._y0,u=this._x1,l=this._y1;if(!t)return this;if(t.length)for(;;){if((m=h>=(c=(a+u)/2))?a=c:u=c,(g=p>=(f=(o+l)/2))?o=f:l=f,e=t,!(t=t[d=g<<1|m]))return this;if(!t.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(i=e,y=d)}for(;t.data!==s;)if(n=t,!(t=t.next))return this;return(r=t.next)&&delete t.next,n?(r?n.next=r:delete n.next,this):e?(r?e[d]=r:delete e[d],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[y]=t:this._root=t),this):(this._root=r,this)},fe.removeAll=function qe(s){for(var e=0,t=s.length;e<t;++e)this.remove(s[e]);return this},fe.root=function et(){return this._root},fe.size=function it(){var s=0;return this.visit(function(e){if(!e.length)do{++s}while(e=e.next)}),s},fe.visit=function nt(s){var t,n,r,a,o,u,e=[],i=this._root;for(i&&e.push(new $(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!s(i=t.node,r=t.x0,a=t.y0,o=t.x1,u=t.y1)&&i.length){var l=(r+o)/2,h=(a+u)/2;(n=i[3])&&e.push(new $(n,l,h,o,u)),(n=i[2])&&e.push(new $(n,r,h,l,u)),(n=i[1])&&e.push(new $(n,l,a,o,h)),(n=i[0])&&e.push(new $(n,r,a,l,h))}return this},fe.visitAfter=function Ht(s){var i,e=[],t=[];for(this._root&&e.push(new $(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var n=i.node;if(n.length){var r,a=i.x0,o=i.y0,u=i.x1,l=i.y1,h=(a+u)/2,p=(o+l)/2;(r=n[0])&&e.push(new $(r,a,o,h,p)),(r=n[1])&&e.push(new $(r,h,o,u,p)),(r=n[2])&&e.push(new $(r,a,p,h,l)),(r=n[3])&&e.push(new $(r,h,p,u,l))}t.push(i)}for(;i=t.pop();)s(i.node,i.x0,i.y0,i.x1,i.y1);return this},fe.x=function Wt(s){return arguments.length?(this._x=s,this):this._x},fe.y=function Ft(s){return arguments.length?(this._y=s,this):this._y};class st extends re{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"forcedirected"}),Object.defineProperty(this,"d3forceSimulation",{enumerable:!0,configurable:!0,writable:!0,value:Be()}),Object.defineProperty(this,"collisionForce",{enumerable:!0,configurable:!0,writable:!0,value:Vt(20)}),Object.defineProperty(this,"linkForce",{enumerable:!0,configurable:!0,writable:!0,value:pt()}),Object.defineProperty(this,"_nodes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_links",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_tick",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_nodesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this.d3forceSimulation.on("tick",()=>{this._tick++,this.updateNodePositions()})}_prepareChildren(){super._prepareChildren(),this.isDirty("showOnFrame")&&this.get("showOnFrame")>this._tick&&(this.nodesContainer.setPrivate("visible",!1),this.linksContainer.setPrivate("visible",!1));const e=this.d3forceSimulation;this.isDirty("velocityDecay")&&e.velocityDecay(this.get("velocityDecay",0)),this.isDirty("initialFrames")&&e.alphaDecay(1-Math.pow(.001,1/this.get("initialFrames",500)))}restartSimulation(e){const t=this.d3forceSimulation;t.alpha()<.25&&(t.alpha(e),t.restart())}_handleRadiusChange(){this._updateForces()}processDataItem(e){const t={index:this._index,x:this.innerWidth()/2,y:this.innerHeight()/2,dataItem:e},i=this._nodes.push(t)-1;t.index=i,this.d3forceSimulation.nodes(this._nodes),e.set("d3ForceNode",t),super.processDataItem(e);const n=e.get("node");n.set("x",-1e4),n.on("scale",()=>{this._updateForces()}),n.events.on("dragged",()=>{t.fx=n.x(),t.fy=n.y(),this._updateForces()}),n.events.on("dragstop",()=>{null==e.get("x")&&(t.fx=void 0),null==e.get("y")&&(t.fy=void 0)})}_updateValues(e){super._updateValues(e),this._nodesDirty=!0;const t=this.d3forceSimulation;t.force("collision",this.collisionForce),t.nodes(this._nodes),this.linkForce=pt(this._links),t.force("link",this.linkForce)}_updateVisuals(){super._updateVisuals(),this.restartSimulation(.3)}_updateChildren(){super._updateChildren();const e=this.d3forceSimulation;if(this._sizeDirty){let t=Math.max(50,this.innerWidth()),i=Math.max(50,this.innerHeight()),n=this.get("paddingTop",0),r=this.get("paddingLeft",0),a=this.get("centerStrength",1);e.force("x",function Ut(s){var t,i,n,e=ge(.1);function r(o){for(var h,u=0,l=t.length;u<l;++u)(h=t[u]).vx+=(n[u]-h.x)*i[u]*o}function a(){if(t){var o,u=t.length;for(i=new Array(u),n=new Array(u),o=0;o<u;++o)i[o]=isNaN(n[o]=+s(t[o],o,t))?0:+e(t[o],o,t)}}return"function"!=typeof s&&(s=ge(null==s?0:+s)),r.initialize=function(o){t=o,a()},r.strength=function(o){return arguments.length?(e="function"==typeof o?o:ge(+o),a(),r):e},r.x=function(o){return arguments.length?(s="function"==typeof o?o:ge(+o),a(),r):s},r}().x(t/2+r).strength(100*a/t)),e.force("y",function Zt(s){var t,i,n,e=ge(.1);function r(o){for(var h,u=0,l=t.length;u<l;++u)(h=t[u]).vy+=(n[u]-h.y)*i[u]*o}function a(){if(t){var o,u=t.length;for(i=new Array(u),n=new Array(u),o=0;o<u;++o)i[o]=isNaN(n[o]=+s(t[o],o,t))?0:+e(t[o],o,t)}}return"function"!=typeof s&&(s=ge(null==s?0:+s)),r.initialize=function(o){t=o,a()},r.strength=function(o){return arguments.length?(e="function"==typeof o?o:ge(+o),a(),r):e},r.y=function(o){return arguments.length?(s="function"==typeof o?o:ge(+o),a(),r):s},r}().y(i/2+n).strength(100*a/i))}this._nodesDirty&&this._updateForces()}_updateForces(){this.d3forceSimulation.force("manybody",function Qt(){var s,e,t,i,r,n=ge(-30),a=1,o=1/0,u=.81;function l(f){var m,g=s.length,d=ft(s,E,je).visitAfter(p);for(i=f,m=0;m<g;++m)e=s[m],d.visit(c)}function h(){if(s){var f,g,m=s.length;for(r=new Array(m),f=0;f<m;++f)r[(g=s[f]).index]=+n(g,f,s)}}function p(f){var g,d,v,P,b,m=0,y=0;if(f.length){for(v=P=b=0;b<4;++b)(g=f[b])&&(d=Math.abs(g.value))&&(m+=g.value,y+=d,v+=d*g.x,P+=d*g.y);f.x=v/y,f.y=P/y}else{(g=f).x=g.data.x,g.y=g.data.y;do{m+=r[g.data.index]}while(g=g.next)}f.value=m}function c(f,m,g,d){if(!f.value)return!0;var y=f.x-e.x,v=f.y-e.y,P=d-m,b=y*y+v*v;if(P*P/u<b)return b<o&&(0===y&&(b+=(y=Ie(t))*y),0===v&&(b+=(v=Ie(t))*v),b<a&&(b=Math.sqrt(a*b)),e.vx+=y*f.value*i/b,e.vy+=v*f.value*i/b),!0;if(!(f.length||b>=o)){(f.data!==e||f.next)&&(0===y&&(b+=(y=Ie(t))*y),0===v&&(b+=(v=Ie(t))*v),b<a&&(b=Math.sqrt(a*b)));do{f.data!==e&&(e.vx+=y*(P=r[f.data.index]*i/b),e.vy+=v*P)}while(f=f.next)}}return l.initialize=function(f,m){s=f,t=m,h()},l.strength=function(f){return arguments.length?(n="function"==typeof f?f:ge(+f),h(),l):n},l.distanceMin=function(f){return arguments.length?(a=f*f,l):Math.sqrt(a)},l.distanceMax=function(f){return arguments.length?(o=f*f,l):Math.sqrt(o)},l.theta=function(f){return arguments.length?(u=f*f,l):Math.sqrt(u)},l}().strength(t=>{let i=t.dataItem,n=i.get("node"),r=i.get("circle"),a=this.get("manyBodyStrength",-15);return r?r.get("radius",1)*n.get("scale",1)*a:0})),this.collisionForce.radius(t=>{let i=t.dataItem,n=i.get("node"),r=i.get("circle"),a=i.get("outerCircle");if(r&&a){let o=r.get("radius",1);return a.isHidden()||(o*=a.get("scale",1.1)),o*=n.get("scale",1),o+this.get("nodePadding",0)}}),this.restartSimulation(.3)}_animatePositions(e){}_clearDirty(){super._clearDirty(),this._nodesDirty=!1}updateNodePositions(){const e=this.linkForce;e&&(e.distance(i=>this.getDistance(i)),e.strength(i=>this.getStrength(i))),this._tick==this.get("showOnFrame")&&(this.nodesContainer.setPrivate("visible",!0),this.linksContainer.setPrivate("visible",!0));let t=this.d3forceSimulation.nodes();O.S6(t,i=>{const r=i.dataItem.get("node");r.set("x",i.x),r.set("y",i.y)})}updateLinkWith(e){O.S6(e,t=>{const i=t.get("linkWith");i&&O.S6(i,r=>{const a=this._getDataItemById(this.dataItems,r);a&&this.linkDataItems(t,a,this.get("linkWithStrength"))});const n=t.get("children");n&&this.updateLinkWith(n)})}getDistance(e){let t=e.sourceDataItem,i=e.targetDataItem,n=0;if(t&&i){const r=i.get("node");if(r.isHidden())return 0;let a=e.link;a&&(n=a.get("distance",1));const o=t.get("node");return r.isHidden()&&(n=1),n*(t.get("circle").get("radius",1)*o.get("scale",1)+i.get("circle").get("radius",1)*r.get("scale",1))}return n}getStrength(e){let t=0,i=e.link;return i&&(t=i.get("strength",1)),t*=e.targetDataItem.get("node").get("scale"),t}_updateNode(e){super._updateNode(e),this._updateRadius(e);const t=e.get("x"),i=e.get("y"),n=e.get("d3ForceNode");n.fx=null!=t?D.Iy(t,this.innerWidth()):void 0,null!=i?n.fy=D.Iy(i,this.innerHeight()):n.fx=void 0}_updateRadius(e){let t=(this.innerWidth()+this.innerHeight())/2,i=D.Iy(this.get("minRadius",1),t),n=D.Iy(this.get("maxRadius",5),t),r=e.get("sum"),a=n;const o=this.getPrivate("valueLow",0),u=this.getPrivate("valueHigh",0);u>0&&(a=i+(r-o)/(u-o)*(n-i)),te.hj(a)||(a=i);const l=this.get("animationDuration",0),h=this.get("animationEasing");e.get("circle").animate({key:"radius",to:a,duration:l,easing:h})}_processLink(e,t,i){const n={link:e,source:t.get("d3ForceNode").index,target:i.get("d3ForceNode").index,sourceDataItem:t,targetDataItem:i};this._links.push(n),e.setPrivate("d3Link",n),this.linkForce=pt(this._links),this.d3forceSimulation.force("link",this.linkForce),this.restartSimulation(.5)}_disposeLink(e){super._disposeLink(e),O.Od(this._links,e.getPrivate("d3Link"))}_handleUnlink(){this.restartSimulation(.5)}_onDataClear(){super._onDataClear(),this._nodes=[],this._links=[]}}function kt(s){if("function"!=typeof s)throw new Error;return s}function We(){return 0}function Ue(s){return function(){return s}}Object.defineProperty(st,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ForceDirected"}),Object.defineProperty(st,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([st.className])});const $t=1664525,Jt=1013904223,Pt=4294967296;function ii(s,e){var t,i;if(yt(e,s))return[e];for(t=0;t<s.length;++t)if(rt(e,s[t])&&yt(tt(s[t],e),s))return[s[t],e];for(t=0;t<s.length-1;++t)for(i=t+1;i<s.length;++i)if(rt(tt(s[t],s[i]),e)&&rt(tt(s[t],e),s[i])&&rt(tt(s[i],e),s[t])&&yt(At(s[t],s[i],e),s))return[s[t],s[i],e];throw new Error}function rt(s,e){var t=s.r-e.r,i=e.x-s.x,n=e.y-s.y;return t<0||t*t<i*i+n*n}function Rt(s,e){var t=s.r-e.r+1e-9*Math.max(s.r,e.r,1),i=e.x-s.x,n=e.y-s.y;return t>0&&t*t>i*i+n*n}function yt(s,e){for(var t=0;t<e.length;++t)if(!Rt(s,e[t]))return!1;return!0}function ni(s){switch(s.length){case 1:return function si(s){return{x:s.x,y:s.y,r:s.r}}(s[0]);case 2:return tt(s[0],s[1]);case 3:return At(s[0],s[1],s[2])}}function tt(s,e){var t=s.x,i=s.y,n=s.r,r=e.x,a=e.y,o=e.r,u=r-t,l=a-i,h=o-n,p=Math.sqrt(u*u+l*l);return{x:(t+r+u/p*h)/2,y:(i+a+l/p*h)/2,r:(p+n+o)/2}}function At(s,e,t){var i=s.x,n=s.y,r=s.r,a=e.x,o=e.y,u=e.r,l=t.x,h=t.y,p=t.r,c=i-a,f=i-l,m=n-o,g=n-h,d=u-r,y=p-r,v=i*i+n*n-r*r,P=v-a*a-o*o+u*u,b=v-l*l-h*h+p*p,R=f*m-c*g,B=(m*b-g*P)/(2*R)-i,J=(g*d-m*y)/R,F=(f*P-c*b)/(2*R)-n,ee=(c*y-f*d)/R,q=J*J+ee*ee-1,ce=2*(r+B*J+F*ee),Re=B*B+F*F-r*r,De=-(Math.abs(q)>1e-6?(ce+Math.sqrt(ce*ce-4*q*Re))/(2*q):Re/ce);return{x:i+B+J*De,y:n+F+ee*De,r:De}}function Ot(s,e,t){var n,r,o,u,i=s.x-e.x,a=s.y-e.y,l=i*i+a*a;l?(r=e.r+t.r,u=s.r+t.r,(r*=r)>(u*=u)?(n=(l+u-r)/(2*l),o=Math.sqrt(Math.max(0,u/l-n*n)),t.x=s.x-n*i-o*a,t.y=s.y-n*a+o*i):(n=(l+r-u)/(2*l),o=Math.sqrt(Math.max(0,r/l-n*n)),t.x=e.x+n*i-o*a,t.y=e.y+n*a+o*i)):(t.x=e.x+t.r,t.y=e.y)}function Tt(s,e){var t=s.r+e.r-1e-6,i=e.x-s.x,n=e.y-s.y;return t>0&&t*t>i*i+n*n}function St(s){var e=s._,t=s.next._,i=e.r+t.r,n=(e.x*t.r+t.x*e.r)/i,r=(e.y*t.r+t.y*e.r)/i;return n*n+r*r}function at(s){this._=s,this.next=null,this.previous=null}function Ct(s,e){if(!(r=(s=function ei(s){return"object"==typeof s&&"length"in s?s:Array.from(s)}(s)).length))return 0;var t,i,n,r,a,o,u,l,h,p,c;if((t=s[0]).x=0,t.y=0,!(r>1))return t.r;if(t.x=-(i=s[1]).r,i.x=t.r,i.y=0,!(r>2))return t.r+i.r;Ot(i,t,n=s[2]),t=new at(t),i=new at(i),n=new at(n),t.next=n.previous=i,i.next=t.previous=n,n.next=i.previous=t;e:for(u=3;u<r;++u){Ot(t._,i._,n=s[u]),n=new at(n),l=i.next,h=t.previous,p=i._.r,c=t._.r;do{if(p<=c){if(Tt(l._,n._)){t.next=i=l,i.previous=t,--u;continue e}p+=l._.r,l=l.next}else{if(Tt(h._,n._)){(t=h).next=i,i.previous=t,--u;continue e}c+=h._.r,h=h.previous}}while(l!==h.next);for(n.previous=t,n.next=i,t.next=i.previous=i=n,a=St(t);(n=n.next)!==i;)(o=St(n))<a&&(t=n,a=o);i=t.next}for(t=[i._],n=i;(n=n.next)!==i;)t.push(n._);for(n=function Nt(s,e){for(var r,a,t=0,i=(s=function ti(s,e){let i,n,t=s.length;for(;t;)n=e()*t--|0,i=s[t],s[t]=s[n],s[n]=i;return s}(Array.from(s),e)).length,n=[];t<i;)r=s[t],a&&Rt(a,r)?++t:(a=ni(n=ii(n,r)),t=0);return a}(t,e),u=0;u<r;++u)(t=s[u]).x-=n.x,t.y-=n.y;return n.r}function ri(s){return Math.sqrt(s.value)}function ai(){var s=null,e=1,t=1,i=We;function n(r){const a=function qt(){let s=1;return()=>(s=($t*s+Jt)%Pt)/Pt}();return r.x=e/2,r.y=t/2,s?r.eachBefore(Lt(s)).eachAfter(mt(i,.5,a)).eachBefore(jt(1)):r.eachBefore(Lt(ri)).eachAfter(mt(We,1,a)).eachAfter(mt(i,r.r/Math.min(e,t),a)).eachBefore(jt(Math.min(e,t)/(2*r.r))),r}return n.radius=function(r){return arguments.length?(s=function Gt(s){return null==s?null:kt(s)}(r),n):s},n.size=function(r){return arguments.length?(e=+r[0],t=+r[1],n):[e,t]},n.padding=function(r){return arguments.length?(i="function"==typeof r?r:Ue(+r),n):i},n}function Lt(s){return function(e){e.children||(e.r=Math.max(0,+s(e)||0))}}function mt(s,e,t){return function(i){if(n=i.children){var n,r,u,a=n.length,o=s(i)*e||0;if(o)for(r=0;r<a;++r)n[r].r+=o;if(u=Ct(n,t),o)for(r=0;r<a;++r)n[r].r-=o;i.r=u+o}}}function jt(s){return function(e){var t=e.parent;e.r*=s,t&&(e.x=t.x+s*e.x,e.y=t.y+s*e.y)}}class ot extends G{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"pack"}),Object.defineProperty(this,"_packLayout",{enumerable:!0,configurable:!0,writable:!0,value:ai()}),Object.defineProperty(this,"_packData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"circles",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>me.C._new(this._root,{themeTags:D.Fy(this.circles.template.get("themeTags",[]),[this._tag,"shape"])},[this.circles.template]))})}_afterNew(){super._afterNew(),this.setPrivate("scaleR",1)}_prepareChildren(){super._prepareChildren(),this.isPrivateDirty("scaleR")&&this._rootNode&&this._updateNodesScale(this._rootNode)}_updateVisuals(){if(this._rootNode){const e=this._packLayout;e.size([this.innerWidth(),this.innerHeight()]),e(this._rootNode),e.padding(this.get("nodePadding",0)),this._updateNodes(this._rootNode)}}_updateNode(e){super._updateNode(e);const t=e.get("node"),i=e.get("circle"),n=e.get("d3HierarchyNode"),r=this.getPrivate("scaleR",1),a=n.x*r,o=n.y*r,u=n.r*r,l=this.get("animationDuration",0),h=this.get("animationEasing");if(t.animate({key:"x",to:a,duration:l,easing:h}),t.animate({key:"y",to:o,duration:l,easing:h}),i){const p=e.get("fill");i.animate({key:"radius",to:u,duration:l,easing:h}),i._setDefault("fill",p),i._setDefault("stroke",p)}}_updateNodesScale(e){const t=e.data.dataItem;if(t){const i=t.get("node"),n=t.get("circle"),r=this.getPrivate("scaleR",1),u=e.r*r;i.setAll({x:e.x*r,y:e.y*r}),n.set("radius",u);const l=e.children;l&&O.S6(l,h=>{this._updateNodesScale(h)})}}makeNode(e){const t=super.makeNode(e),i=t.children.moveValue(this.circles.make(),0);t.setPrivate("tooltipTarget",i),this.circles.push(i),e.setRaw("circle",i);const n=e.get("label");return i.on("radius",()=>{const r=2*i.get("radius",this.width());n.setAll({maxWidth:r,maxHeight:r})}),t}_zoom(e){const t=e.get("d3HierarchyNode");let i=t.x,n=t.y,r=t.r,a=Math.min(this.innerWidth(),this.innerHeight())/(2*r);const o=this.get("animationEasing");let u=this.get("animationDuration",0);this.inited||(u=0),this.animatePrivate({key:"scaleR",to:a,duration:u,easing:o});const l=this.nodesContainer;l.animate({key:"x",from:l.x(),to:this.width()/2-i*a,duration:u,easing:o}),l.animate({key:"y",from:l.y(),to:this.height()/2-n*a,duration:u,easing:o})}}function Mt(s){s.x0=Math.round(s.x0),s.y0=Math.round(s.y0),s.x1=Math.round(s.x1),s.y1=Math.round(s.y1)}function lt(s,e,t,i,n){for(var a,r=s.children,o=-1,u=r.length,l=s.value&&(i-e)/s.value;++o<u;)(a=r[o]).y0=t,a.y1=n,a.x0=e,a.x1=e+=a.value*l}function Bt(){var s=1,e=1,t=0,i=!1;function n(a){var o=a.height+1;return a.x0=a.y0=t,a.x1=s,a.y1=e/o,a.eachBefore(function r(a,o){return function(u){u.children&&lt(u,u.x0,a*(u.depth+1)/o,u.x1,a*(u.depth+2)/o);var l=u.x0,h=u.y0,p=u.x1-t,c=u.y1-t;p<l&&(l=p=(l+p)/2),c<h&&(h=c=(h+c)/2),u.x0=l,u.y0=h,u.x1=p,u.y1=c}}(e,o)),i&&a.eachBefore(Mt),a}return n.round=function(a){return arguments.length?(i=!!a,n):i},n.size=function(a){return arguments.length?(s=+a[0],e=+a[1],n):[s,e]},n.padding=function(a){return arguments.length?(t=+a,n):t},n}Object.defineProperty(ot,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pack"}),Object.defineProperty(ot,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:G.classNames.concat([ot.className])});class Ze extends G{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"partition"}),Object.defineProperty(this,"rectangles",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>k.c._new(this._root,{themeTags:D.Fy(this.rectangles.template.get("themeTags",[]),[this._tag,"shape"])},[this.rectangles.template]))}),Object.defineProperty(this,"_partitionLayout",{enumerable:!0,configurable:!0,writable:!0,value:Bt()})}_afterNew(){this._settings.themeTags=D.Fy(this._settings.themeTags,["partition",this._settings.orientation||"vertical"]),super._afterNew(),this.setPrivate("scaleX",1),this.setPrivate("scaleY",1)}_prepareChildren(){super._prepareChildren(),this.isDirty("nodePadding")&&this._rootNode&&this._updateNodes(this._rootNode),(this.isPrivateDirty("scaleX")||this.isPrivateDirty("scaleY"))&&this._rootNode&&this._updateNodesScale(this._rootNode),this.isDirty("orientation")&&this._updateVisuals()}_updateVisuals(){if(this._rootNode){const e=this._partitionLayout;let t=this.innerWidth(),i=this.innerHeight();"horizontal"==this.get("orientation")&&([t,i]=[i,t]),e.size([t,i]);const n=this.get("nodePadding");te.hj(n)&&e.padding(n),e(this._rootNode),this._updateNodes(this._rootNode)}}_updateNode(e){super._updateNode(e);const t=e.get("node"),i=e.get("rectangle"),n=e.get("d3HierarchyNode"),r=this.getPrivate("scaleX",1),a=this.getPrivate("scaleY",1);let o,u,l,h;"horizontal"==this.get("orientation")?(o=n.y0*r,u=n.y1*r,l=n.x0*a,h=n.x1*a):(o=n.x0*r,u=n.x1*r,l=n.y0*a,h=n.y1*a);let p=u-o,c=h-l;const f=this.get("animationDuration",0),m=this.get("animationEasing");if(t.animate({key:"x",to:o,duration:f,easing:m}),t.animate({key:"y",to:l,duration:f,easing:m}),t.animate({key:"width",to:p,duration:f,easing:m}),t.animate({key:"height",to:c,duration:f,easing:m}),i){const g=e.get("fill");i.animate({key:"width",to:p,duration:f,easing:m}),i.animate({key:"height",to:c,duration:f,easing:m}),i._setDefault("fill",g),i._setDefault("stroke",g)}}_updateNodesScale(e){const t=e.data.dataItem;if(t){const i=t.get("node"),n=t.get("rectangle"),r=this.getPrivate("scaleX",1),a=this.getPrivate("scaleY",1);let o,u,l,h;"horizontal"==this.get("orientation")?(o=e.y0*r,u=e.y1*r,l=e.x0*a,h=e.x1*a):(o=e.x0*r,u=e.x1*r,l=e.y0*a,h=e.y1*a);const p=u-o,c=h-l;i.setAll({x:o,y:l,width:p,height:c}),n.setAll({width:p,height:c});const f=e.children;f&&O.S6(f,m=>{this._updateNodesScale(m)})}}makeNode(e){const t=super.makeNode(e);return this._makeNode(e,t),t}_makeNode(e,t){const i=t.children.moveValue(this.rectangles.make(),0);t.setPrivate("tooltipTarget",i),e.setRaw("rectangle",i),i._setDataItem(e);const n=e.get("label");i.on("width",()=>{n.set("maxWidth",i.width())}),i.on("height",()=>{n.set("maxHeight",i.height())})}_zoom(e){let t=0,i=0,n=0,r=0;const a=this.get("upDepth",0)+1,o=this.get("topDepth",0),u=this.innerWidth(),l=this.innerHeight(),h=this.getPrivate("maxDepth",1),p=l/(h+1),c=u/(h+1),f=Math.min(this.get("initialDepth",1),h-o);let m=this._currentDownDepth;if(null==m&&(m=this.get("downDepth",1)),e){const P=e.get("d3HierarchyNode");let b=P.depth;"horizontal"==this.get("orientation")?(t=P.y0,i=P.y1,n=P.x0,r=P.x1,t=i-c*a,i=t+c*(m+1),b<o&&(n=0,r=l,t=c*o,i=t+c*f)):(t=P.x0,i=P.x1,n=P.y0,r=P.y1,n=r-p*a,r=n+p*(m+1),b<o&&(t=0,i=u,n=p*o,r=n+p*f))}let g=u/(i-t),d=l/(r-n);const y=this.get("animationEasing");let v=this.get("animationDuration",0);this.inited||(v=0),this.animatePrivate({key:"scaleX",to:g,duration:v,easing:y}),this.animatePrivate({key:"scaleY",to:d,duration:v,easing:y}),this.nodesContainer.animate({key:"x",to:-t*g,duration:v,easing:y}),this.nodesContainer.animate({key:"y",to:-n*d,duration:v,easing:y})}}Object.defineProperty(Ze,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Partition"}),Object.defineProperty(Ze,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:G.classNames.concat([Ze.className])});var oi=N(3792),li=N(5129),ze=N(5106);class ut extends Ze{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"sunburst"}),Object.defineProperty(this,"_partitionLayout",{enumerable:!0,configurable:!0,writable:!0,value:Bt()}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>oi.p._new(this._root,{themeTags:D.Fy(this.slices.template.get("themeTags",[]),[this._tag,"hierarchy","node","shape"])},[this.slices.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>li.x._new(this._root,{themeTags:D.Fy(this.labels.template.get("themeTags",[]),[this._tag])},[this.labels.template]))})}_afterNew(){super._afterNew(),this.nodesContainer.setAll({x:S.CI,y:S.CI}),this.setPrivateRaw("dx",0),this.setPrivateRaw("dr",0)}_prepareChildren(){super._prepareChildren(),(this.isPrivateDirty("dr")||this.isPrivateDirty("dx"))&&this._rootNode&&this._updateNodesScale(this._rootNode)}_updateVisuals(){if(this._rootNode){const e=this._partitionLayout;let t=ze.E4(0,0,this.get("startAngle",0),this.get("endAngle",360),1),i=this.innerWidth(),n=this.innerHeight(),o=Math.min(i/(t.right-t.left),n/(t.bottom-t.top)),u=D.Iy(this.get("radius",S.AQ),o),l=D.Iy(this.get("innerRadius",0),u);l<0&&(l=u+l),o=u-l,this.setPrivateRaw("innerRadius",l),this.setPrivateRaw("hierarchySize",o),e.size([o,o]),this.nodesContainer.setAll({dy:-u*(t.bottom+t.top)/2,dx:-u*(t.right+t.left)/2});const h=this.get("nodePadding");te.hj(h)&&e.padding(h),e(this._rootNode),this._updateNodes(this._rootNode)}}_updateNode(e){super._updateNode(e);const t=e.get("d3HierarchyNode");e.get("node").setAll({x:0,y:0});const n=this.get("animationDuration",0),r=this.get("animationEasing"),a=this.getPrivate("scaleX",1),o=this.getPrivate("scaleY",1),u=this.getPrivate("dr",0),l=this.getPrivate("dx",0),h=t.x0*a+l,p=t.x1*a+l,c=t.y0*o,f=t.y1*o,m=this.getPrivate("innerRadius"),g=this.getPrivate("hierarchySize",0),d=e.get("slice");if(d){const y=this.get("startAngle",-90),v=this.get("endAngle",270),P=y+h/g*(v-y),b=y+p/g*(v-y)-P;let R=m+c,B=m+f;R-=u,B-=u,B=Math.max(0,B),R=Math.max(0,R),d.animate({key:"radius",to:B,duration:n,easing:r}),d.animate({key:"innerRadius",to:R,duration:n,easing:r}),d.animate({key:"startAngle",to:P,duration:n,easing:r}),d.animate({key:"arc",to:b,duration:n,easing:r});const J=e.get("fill");d._setDefault("fill",J),d._setDefault("stroke",J)}}_updateNodesScale(e){const t=e.data.dataItem;if(t){const i=this.getPrivate("scaleX",1),n=this.getPrivate("scaleY",1),r=this.getPrivate("dr",0),a=this.getPrivate("dx",0),o=e.x0*i+a,u=e.x1*i+a,l=e.y0*n,h=e.y1*n,p=this.getPrivate("innerRadius"),c=this.getPrivate("hierarchySize",0),f=t.get("slice");if(f){const g=this.get("startAngle",-90),d=this.get("endAngle",270),y=g+o/c*(d-g),v=g+u/c*(d-g)-y;let P=p+l,b=p+h;P-=r,b-=r,b=Math.max(0,b),P=Math.max(0,P),f.setAll({radius:b,innerRadius:P,startAngle:y,arc:v})}const m=e.children;m&&O.S6(m,g=>{this._updateNodesScale(g)})}}_makeNode(e,t){const i=t.children.moveValue(this.slices.make(),0);t.setPrivate("tooltipTarget",i),e.setRaw("slice",i),i._setDataItem(e),i.on("arc",()=>{this._updateLabel(e)}),i.on("innerRadius",()=>{this._updateLabel(e)}),i.on("radius",()=>{this._updateLabel(e)})}_updateLabel(e){const t=e.get("slice"),i=e.get("label");if(t&&i){let n=t.get("innerRadius",0),r=t.get("radius",0),a=t.get("startAngle",0),o=Math.abs(t.get("arc",0)),u=a+o/2,l=i.get("textType"),h=r-n,p=r*o*ze.sE;0==n&&o>=360&&"radial"==l&&(r=1,u=0,h*=2,p=h),Math.round(o)>=360&&"radial"==l&&(u=0),"circular"==l&&(h=o*ze.sE*(n+(r-n)/2)-10),i.setAll({labelAngle:u}),i.setPrivate("radius",r),i.setPrivate("innerRadius",n),i.setAll({maxHeight:p,maxWidth:h})}}_zoom(e){let t=0,i=0,n=this.getPrivate("hierarchySize",0);const r=e.get("d3HierarchyNode");let a=this.get("upDepth",0),o=this.get("topDepth",0),u=r.depth,l=this.getPrivate("maxDepth",1),h=this._currentDownDepth;null==h&&(h=this.get("downDepth",1));const p=n/(l+1);u<o&&(u=o),u-a<0&&(a=u),t=r.x0,i=r.x1;let c=h+a+1;c>l-o+1&&(c=l-o+1);let f=n/(i-t),m=n/(p*c),g=Math.max(u-a,o)*p*m;const d=this.get("animationEasing");let y=this.get("animationDuration",0);this.inited||(y=0);let v=-t*f;this.animatePrivate({key:"scaleX",to:f,duration:y,easing:d}),this.animatePrivate({key:"scaleY",to:m,duration:y,easing:d}),this.animatePrivate({key:"dr",to:g,duration:y,easing:d}),this.animatePrivate({key:"dx",to:v,duration:y,easing:d})}_handleSingle(e){const t=e.get("parent");if(t){const i=t.get("children");i&&O.S6(i,n=>{n!=e&&(this.disableDataItem(n),n.get("node").hide())}),this._handleSingle(t)}}_positionBullet(e){const t=e.get("sprite");if(t){const i=t.dataItem,n=e.get("locationX",.5),r=e.get("locationY",.5),a=i.get("slice"),o=a.get("arc",0),u=a.get("startAngle",0)+a.get("arc",0)*n,l=a.get("innerRadius",0),h=l+(a.get("radius",0)-l)*r;let p=ze.mC(u)*h,c=ze.O$(u)*h;360===ze.NM(o,5)&&0===ze.NM(l,2)&&(p=0,c=0),t.set("x",p),t.set("y",c)}}_makeBullet(e,t,i){const n=super._makeBullet(e,t,i);if(n){const r=n.get("sprite"),a=e.get("slice");return r&&a&&(a.on("arc",()=>{this._positionBullet(n)}),a.on("radius",()=>{this._positionBullet(n)})),n}}}function ui(s,e){return s.parent===e.parent?1:2}function vt(s){var e=s.children;return e?e[0]:s.t}function _t(s){var e=s.children;return e?e[e.length-1]:s.t}function hi(s,e,t){var i=t/(e.i-s.i);e.c-=i,e.s+=t,s.c+=i,e.z+=t,e.m+=t}function di(s,e,t){return s.a.parent===e.parent?s.a:t}function ht(s,e){this._=s,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function gi(){var s=ui,e=1,t=1,i=null;function n(l){var h=function fi(s){for(var t,n,r,a,o,e=new ht(s,0),i=[e];t=i.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),a=o-1;a>=0;--a)i.push(n=t.children[a]=new ht(r[a],a)),n.parent=t;return(e.parent=new ht(null,0)).children=[e],e}(l);if(h.eachAfter(r),h.parent.m=-h.z,h.eachBefore(a),i)l.eachBefore(u);else{var p=l,c=l,f=l;l.eachBefore(function(v){v.x<p.x&&(p=v),v.x>c.x&&(c=v),v.depth>f.depth&&(f=v)});var m=p===c?1:s(p,c)/2,g=m-p.x,d=e/(c.x+m+g),y=t/(f.depth||1);l.eachBefore(function(v){v.x=(v.x+g)*d,v.y=v.depth*y})}return l}function r(l){var h=l.children,p=l.parent.children,c=l.i?p[l.i-1]:null;if(h){!function ci(s){for(var r,e=0,t=0,i=s.children,n=i.length;--n>=0;)(r=i[n]).z+=e,r.m+=e,e+=r.s+(t+=r.c)}(l);var f=(h[0].z+h[h.length-1].z)/2;c?(l.z=c.z+s(l._,c._),l.m=l.z-f):l.z=f}else c&&(l.z=c.z+s(l._,c._));l.parent.A=function o(l,h,p){if(h){for(var b,c=l,f=l,m=h,g=c.parent.children[0],d=c.m,y=f.m,v=m.m,P=g.m;m=_t(m),c=vt(c),m&&c;)g=vt(g),(f=_t(f)).a=l,(b=m.z+v-c.z-d+s(m._,c._))>0&&(hi(di(m,l,p),l,b),d+=b,y+=b),v+=m.m,d+=c.m,P+=g.m,y+=f.m;m&&!_t(f)&&(f.t=m,f.m+=v-y),c&&!vt(g)&&(g.t=c,g.m+=d-P,p=l)}return p}(l,c,l.parent.A||p[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function u(l){l.x*=e,l.y=l.depth*t}return n.separation=function(l){return arguments.length?(s=l,n):s},n.size=function(l){return arguments.length?(i=!1,e=+l[0],t=+l[1],n):i?null:[e,t]},n.nodeSize=function(l){return arguments.length?(i=!0,e=+l[0],t=+l[1],n):i?[e,t]:null},n}Object.defineProperty(ut,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sunburst"}),Object.defineProperty(ut,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ze.classNames.concat([ut.className])}),ht.prototype=Object.create(V.prototype);class ct extends re{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"tree"}),Object.defineProperty(this,"_hierarchyLayout",{enumerable:!0,configurable:!0,writable:!0,value:gi()}),Object.defineProperty(this,"_packData",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_prepareChildren(){super._prepareChildren(),(this.isDirty("orientation")||this.isDirty("inversed"))&&this._updateVisuals()}_updateVisuals(){if(this._rootNode){const e=this._hierarchyLayout;"vertical"==this.get("orientation")?e.size([this.innerWidth(),this.innerHeight()]):e.size([this.innerHeight(),this.innerWidth()]),e(this._rootNode)}super._updateVisuals()}_getPoint(e){const t=this.get("inversed");return"vertical"==this.get("orientation")?t?{x:e.x,y:this.innerHeight()-e.y}:{x:e.x,y:e.y}:t?{x:this.innerWidth()-e.y,y:e.x}:{x:e.y,y:e.x}}}function bt(s,e,t,i,n){for(var a,r=s.children,o=-1,u=r.length,l=s.value&&(n-t)/s.value;++o<u;)(a=r[o]).x0=e,a.x1=i,a.y0=t,a.y1=t+=a.value*l}Object.defineProperty(ct,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tree"}),Object.defineProperty(ct,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([ct.className])});const xt=function s(e){function t(i,n,r,a,o){!function yi(s,e,t,i,n,r){for(var u,l,f,m,d,y,v,P,b,R,B,a=[],o=e.children,h=0,p=0,c=o.length,g=e.value;h<c;){f=n-t,m=r-i;do{d=o[p++].value}while(!d&&p<c);for(y=v=d,B=d*d*(R=Math.max(m/f,f/m)/(g*s)),b=Math.max(v/B,B/y);p<c;++p){if(d+=l=o[p].value,l<y&&(y=l),l>v&&(v=l),B=d*d*R,(P=Math.max(v/B,B/y))>b){d-=l;break}b=P}a.push(u={value:d,dice:f<m,children:o.slice(h,p)}),u.dice?lt(u,t,i,n,g?i+=m*d/g:r):bt(u,t,i,g?t+=f*d/g:n,r),g-=d,h=p}}(e,i,n,r,a,o)}return t.ratio=function(i){return s((i=+i)>1?i:1)},t}((1+Math.sqrt(5))/2);function It(){var s=xt,e=!1,t=1,i=1,n=[0],r=We,a=We,o=We,u=We,l=We;function h(c){return c.x0=c.y0=0,c.x1=t,c.y1=i,c.eachBefore(p),n=[0],e&&c.eachBefore(Mt),c}function p(c){var f=n[c.depth],m=c.x0+f,g=c.y0+f,d=c.x1-f,y=c.y1-f;d<m&&(m=d=(m+d)/2),y<g&&(g=y=(g+y)/2),c.x0=m,c.y0=g,c.x1=d,c.y1=y,c.children&&(f=n[c.depth+1]=r(c)/2,m+=l(c)-f,g+=a(c)-f,(d-=o(c)-f)<m&&(m=d=(m+d)/2),(y-=u(c)-f)<g&&(g=y=(g+y)/2),s(c,m,g,d,y))}return h.round=function(c){return arguments.length?(e=!!c,h):e},h.size=function(c){return arguments.length?(t=+c[0],i=+c[1],h):[t,i]},h.tile=function(c){return arguments.length?(s=kt(c),h):s},h.padding=function(c){return arguments.length?h.paddingInner(c).paddingOuter(c):h.paddingInner()},h.paddingInner=function(c){return arguments.length?(r="function"==typeof c?c:Ue(+c),h):r},h.paddingOuter=function(c){return arguments.length?h.paddingTop(c).paddingRight(c).paddingBottom(c).paddingLeft(c):h.paddingTop()},h.paddingTop=function(c){return arguments.length?(a="function"==typeof c?c:Ue(+c),h):a},h.paddingRight=function(c){return arguments.length?(o="function"==typeof c?c:Ue(+c),h):o},h.paddingBottom=function(c){return arguments.length?(u="function"==typeof c?c:Ue(+c),h):u},h.paddingLeft=function(c){return arguments.length?(l="function"==typeof c?c:Ue(+c),h):l},h}function mi(s,e,t,i,n){var a,u,r=s.children,o=r.length,l=new Array(o+1);for(l[0]=u=a=0;a<o;++a)l[a+1]=u+=r[a].value;!function h(p,c,f,m,g,d,y){if(p>=c-1){var v=r[p];return v.x0=m,v.y0=g,v.x1=d,void(v.y1=y)}for(var P=l[p],b=f/2+P,R=p+1,B=c-1;R<B;){var J=R+B>>>1;l[J]<b?R=J+1:B=J}b-l[R-1]<l[R]-b&&p+1<R&&--R;var F=l[R]-P,ee=f-F;if(d-m>y-g){var q=f?(m*ee+d*F)/f:d;h(p,R,F,m,g,q,y),h(R,c,ee,q,g,d,y)}else{var ce=f?(g*ee+y*F)/f:y;h(p,R,F,m,g,d,ce),h(R,c,ee,m,ce,d,y)}}(0,o,s.value,e,t,i,n)}function vi(s,e,t,i,n){(1&s.depth?bt:lt)(s,e,t,i,n)}class dt extends G{constructor(){super(...arguments),Object.defineProperty(this,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"treemap"}),Object.defineProperty(this,"rectangleTemplate",{enumerable:!0,configurable:!0,writable:!0,value:x.YS.new({})}),Object.defineProperty(this,"_treemapLayout",{enumerable:!0,configurable:!0,writable:!0,value:It().tile(xt)}),Object.defineProperty(this,"rectangles",{enumerable:!0,configurable:!0,writable:!0,value:new w.o(x.YS.new({}),()=>k.c._new(this._root,{themeTags:D.Fy(this.rectangles.template.get("themeTags",[]),[this._tag,"shape"])},[this.rectangles.template]))})}_afterNew(){super._afterNew(),this.setPrivate("scaleX",1),this.setPrivate("scaleY",1)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("layoutAlgorithm")){let e;switch(this.get("layoutAlgorithm")){case"squarify":e=xt;break;case"binary":e=mi;break;case"slice":e=bt;break;case"dice":e=lt;break;case"sliceDice":e=vi}e&&(this._treemapLayout=It().tile(e)),this._rootNode&&this._updateNodes(this._rootNode)}(this.isDirty("nodePaddingRight")||this.isDirty("nodePaddingLeft")||this.isDirty("nodePaddingTop")||this.isDirty("nodePaddingBottom")||this.isDirty("nodePaddingOuter")||this.isDirty("nodePaddingInner"))&&this._rootNode&&this._updateNodes(this._rootNode),(this.isPrivateDirty("scaleX")||this.isPrivateDirty("scaleY"))&&this._rootNode&&this._updateNodesScale(this._rootNode)}_updateVisuals(){if(this._rootNode){const e=this._treemapLayout;e.size([this.innerWidth(),this.innerHeight()]);const t=this.get("nodePaddingLeft"),i=this.get("nodePaddingRight"),n=this.get("nodePaddingTop"),r=this.get("nodePaddingBottom"),a=this.get("nodePaddingInner"),o=this.get("nodePaddingOuter");te.hj(t)&&e.paddingLeft(t),te.hj(i)&&e.paddingRight(i),te.hj(n)&&e.paddingTop(n),te.hj(r)&&e.paddingBottom(r),te.hj(a)&&e.paddingInner(a),te.hj(o)&&e.paddingOuter(o),e(this._rootNode),this._updateNodes(this._rootNode)}}_updateNode(e){super._updateNode(e);const t=e.get("node"),i=e.get("rectangle"),n=e.get("d3HierarchyNode"),r=this.getPrivate("scaleX",1),a=this.getPrivate("scaleY",1),o=n.x0*r,l=n.y0*a,p=n.x1*r-o,c=n.y1*a-l,f=this.get("animationDuration",0),m=this.get("animationEasing");if(t.animate({key:"x",to:o,duration:f,easing:m}),t.animate({key:"y",to:l,duration:f,easing:m}),t.animate({key:"width",to:p,duration:f,easing:m}),t.animate({key:"height",to:c,duration:f,easing:m}),i){const g=e.get("fill");i.animate({key:"width",to:p,duration:f,easing:m}),i.animate({key:"height",to:c,duration:f,easing:m}),i._setDefault("fill",g),i._setDefault("stroke",g)}}_updateNodesScale(e){const t=e.data.dataItem;if(t){const i=t.get("node"),n=t.get("rectangle"),r=this.getPrivate("scaleX",1),a=this.getPrivate("scaleY",1),o=e.x0*r,l=e.y0*a,p=e.x1*r-o,c=e.y1*a-l;i.setAll({x:o,y:l,width:p,height:c}),n.setAll({width:p,height:c});const f=e.children;f&&O.S6(f,m=>{this._updateNodesScale(m)})}}makeNode(e){const t=super.makeNode(e),i=t.children.moveValue(this.rectangles.make(),0);t.setPrivate("tooltipTarget",i),e.setRaw("rectangle",i);const n=e.get("label");return i.on("width",()=>{n.setPrivate("maxWidth",i.width())}),i.on("height",()=>{n.setPrivate("maxHeight",i.height())}),t}_zoom(e){if(this.width()>0&&this.height()>0){const t=e.get("d3HierarchyNode"),i=this.get("nodePaddingOuter",0);let n=t.x0+i,r=t.x1-i,a=t.y0+i,o=t.y1-i,u=(this.innerWidth()-2*i)/(r-n),l=(this.innerHeight()-2*i)/(o-a);const h=this.get("animationEasing"),p=this.get("animationDuration",0);this.animatePrivate({key:"scaleX",to:u,duration:p,easing:h}),this.animatePrivate({key:"scaleY",to:l,duration:p,easing:h}),this.nodesContainer.animate({key:"x",to:i-n*u,duration:p,easing:h}),this.nodesContainer.animate({key:"y",to:i-a*l,duration:p,easing:h})}}}Object.defineProperty(dt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Treemap"}),Object.defineProperty(dt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:G.classNames.concat([dt.className])})},903:(Fe,_e,N)=>{N.d(_e,{Z:()=>K});var z={value:()=>{}};function S(){for(var w,_=0,k=arguments.length,x={};_<k;++_){if(!(w=arguments[_]+"")||w in x||/[\s.]/.test(w))throw new Error("illegal type: "+w);x[w]=[]}return new C(x)}function C(_){this._=_}function se(_,k){for(var D,x=0,w=_.length;x<w;++x)if((D=_[x]).name===k)return D.value}function Z(_,k,x){for(var w=0,D=_.length;w<D;++w)if(_[w].name===k){_[w]=z,_=_.slice(0,w).concat(_.slice(w+1));break}return null!=x&&_.push({name:k,value:x}),_}C.prototype=S.prototype={constructor:C,on:function(_,k){var D,x=this._,w=function L(_,k){return _.trim().split(/^|\s+/).map(function(x){var w="",D=x.indexOf(".");if(D>=0&&(w=x.slice(D+1),x=x.slice(0,D)),x&&!k.hasOwnProperty(x))throw new Error("unknown type: "+x);return{type:x,name:w}})}(_+"",x),M=-1,Q=w.length;if(!(arguments.length<2)){if(null!=k&&"function"!=typeof k)throw new Error("invalid callback: "+k);for(;++M<Q;)if(D=(_=w[M]).type)x[D]=Z(x[D],_.name,k);else if(null==k)for(D in x)x[D]=Z(x[D],_.name,null);return this}for(;++M<Q;)if((D=(_=w[M]).type)&&(D=se(x[D],_.name)))return D},copy:function(){var _={},k=this._;for(var x in k)_[x]=k[x].slice();return new C(_)},call:function(_,k){if((D=arguments.length-2)>0)for(var D,M,x=new Array(D),w=0;w<D;++w)x[w]=arguments[w+2];if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(w=0,D=(M=this._[_]).length;w<D;++w)M[w].value.apply(k,x)},apply:function(_,k,x){if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(var w=this._[_],D=0,M=w.length;D<M;++D)w[D].value.apply(k,x)}};const K=S},6085:(Fe,_e,N)=>{N.d(_e,{Z:()=>pe});var z=N(7944);const S=Math.abs,C=Math.atan2,L=Math.cos,se=Math.max,Z=Math.min,K=Math.sin,_=Math.sqrt,k=1e-12,x=Math.PI,w=x/2,D=2*x;function Q(j){return j>=1?w:j<=-1?-w:Math.asin(j)}var ie=N(2851);function ke(j){return j.innerRadius}function ae(j){return j.outerRadius}function O(j){return j.startAngle}function te(j){return j.endAngle}function He(j){return j&&j.padAngle}function W(j,be,Ae,Ne,xe,we,Ce){var I=j-Ae,Oe=be-Ne,X=(Ce?we:-we)/_(I*I+Oe*Oe),A=X*Oe,oe=-X*I,H=j+A,U=be+oe,le=Ae+A,ue=Ne+oe,Le=(H+le)/2,V=(U+ue)/2,G=le-H,ne=ue-U,ye=G*G+ne*ne,he=xe-we,me=H*ue-le*U,re=(ne<0?-1:1)*_(se(0,he*he*ye-me*me)),Te=(me*ne-G*re)/ye,Se=(-me*G-ne*re)/ye,Pe=(me*ne+G*re)/ye,ve=(-me*G+ne*re)/ye,de=Te-Le,T=Se-V,E=Pe-Le,je=ve-V;return de*de+T*T>E*E+je*je&&(Te=Pe,Se=ve),{cx:Te,cy:Se,x01:-A,y01:-oe,x11:Te*(xe/he-1),y11:Se*(xe/he-1)}}function pe(){var j=ke,be=ae,Ae=(0,z.Z)(0),Ne=null,xe=O,we=te,Ce=He,I=null,Oe=(0,ie.d)(X);function X(){var A,oe,H=+j.apply(this,arguments),U=+be.apply(this,arguments),le=xe.apply(this,arguments)-w,ue=we.apply(this,arguments)-w,Le=S(ue-le),V=ue>le;if(I||(I=A=Oe()),U<H&&(oe=U,U=H,H=oe),U>k)if(Le>D-k)I.moveTo(U*L(le),U*K(le)),I.arc(0,0,U,le,ue,!V),H>k&&(I.moveTo(H*L(ue),H*K(ue)),I.arc(0,0,H,ue,le,V));else{var T,E,G=le,ne=ue,ye=le,he=ue,me=Le,re=Le,Te=Ce.apply(this,arguments)/2,Se=Te>k&&(Ne?+Ne.apply(this,arguments):_(H*H+U*U)),Pe=Z(S(U-H)/2,+Ae.apply(this,arguments)),ve=Pe,de=Pe;if(Se>k){var je=Q(Se/H*K(Te)),Ye=Q(Se/U*K(Te));(me-=2*je)>k?(ye+=je*=V?1:-1,he-=je):(me=0,ye=he=(le+ue)/2),(re-=2*Ye)>k?(G+=Ye*=V?1:-1,ne-=Ye):(re=0,G=ne=(le+ue)/2)}var Me=U*L(G),Be=U*K(G),Xe=H*L(he),Ee=H*K(he);if(Pe>k){var $,Ve=U*L(ne),Ke=U*K(ne),Qe=H*L(ye),Ge=H*K(ye);if(Le<x)if($=function Y(j,be,Ae,Ne,xe,we,Ce,I){var Oe=Ae-j,X=Ne-be,A=Ce-xe,oe=I-we,H=oe*Oe-A*X;if(!(H*H<k))return[j+(H=(A*(be-we)-oe*(j-xe))/H)*Oe,be+H*X]}(Me,Be,Qe,Ge,Ve,Ke,Xe,Ee)){var $e=Me-$[0],Je=Be-$[1],qe=Ve-$[0],et=Ke-$[1],it=1/K(function M(j){return j>1?0:j<-1?x:Math.acos(j)}(($e*qe+Je*et)/(_($e*$e+Je*Je)*_(qe*qe+et*et)))/2),nt=_($[0]*$[0]+$[1]*$[1]);ve=Z(Pe,(H-nt)/(it-1)),de=Z(Pe,(U-nt)/(it+1))}else ve=de=0}re>k?de>k?(T=W(Qe,Ge,Me,Be,U,de,V),E=W(Ve,Ke,Xe,Ee,U,de,V),I.moveTo(T.cx+T.x01,T.cy+T.y01),de<Pe?I.arc(T.cx,T.cy,de,C(T.y01,T.x01),C(E.y01,E.x01),!V):(I.arc(T.cx,T.cy,de,C(T.y01,T.x01),C(T.y11,T.x11),!V),I.arc(0,0,U,C(T.cy+T.y11,T.cx+T.x11),C(E.cy+E.y11,E.cx+E.x11),!V),I.arc(E.cx,E.cy,de,C(E.y11,E.x11),C(E.y01,E.x01),!V))):(I.moveTo(Me,Be),I.arc(0,0,U,G,ne,!V)):I.moveTo(Me,Be),H>k&&me>k?ve>k?(T=W(Xe,Ee,Ve,Ke,H,-ve,V),E=W(Me,Be,Qe,Ge,H,-ve,V),I.lineTo(T.cx+T.x01,T.cy+T.y01),ve<Pe?I.arc(T.cx,T.cy,ve,C(T.y01,T.x01),C(E.y01,E.x01),!V):(I.arc(T.cx,T.cy,ve,C(T.y01,T.x01),C(T.y11,T.x11),!V),I.arc(0,0,H,C(T.cy+T.y11,T.cx+T.x11),C(E.cy+E.y11,E.cx+E.x11),V),I.arc(E.cx,E.cy,ve,C(E.y11,E.x11),C(E.y01,E.x01),!V))):I.arc(0,0,H,he,ye,V):I.lineTo(Xe,Ee)}else I.moveTo(0,0);if(I.closePath(),A)return I=null,A+""||null}return X.centroid=function(){var A=(+j.apply(this,arguments)+ +be.apply(this,arguments))/2,oe=(+xe.apply(this,arguments)+ +we.apply(this,arguments))/2-x/2;return[L(oe)*A,K(oe)*A]},X.innerRadius=function(A){return arguments.length?(j="function"==typeof A?A:(0,z.Z)(+A),X):j},X.outerRadius=function(A){return arguments.length?(be="function"==typeof A?A:(0,z.Z)(+A),X):be},X.cornerRadius=function(A){return arguments.length?(Ae="function"==typeof A?A:(0,z.Z)(+A),X):Ae},X.padRadius=function(A){return arguments.length?(Ne=null==A?null:"function"==typeof A?A:(0,z.Z)(+A),X):Ne},X.startAngle=function(A){return arguments.length?(xe="function"==typeof A?A:(0,z.Z)(+A),X):xe},X.endAngle=function(A){return arguments.length?(we="function"==typeof A?A:(0,z.Z)(+A),X):we},X.padAngle=function(A){return arguments.length?(Ce="function"==typeof A?A:(0,z.Z)(+A),X):Ce},X.context=function(A){return arguments.length?(I=A??null,X):I},X}},392:(Fe,_e,N)=>{N.d(_e,{B7:()=>Q,HT:()=>ie,zO:()=>D});var se,Z,z=0,S=0,C=0,L=1e3,K=0,_=0,k=0,x="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Y){setTimeout(Y,17)};function D(){return _||(w(M),_=x.now()+k)}function M(){_=0}function Q(){this._call=this._time=this._next=null}function ie(Y,W,pe){var j=new Q;return j.restart(Y,W,pe),j}function ae(){_=(K=x.now())+k,z=S=0;try{!function ke(){D(),++z;for(var W,Y=se;Y;)(W=_-Y._time)>=0&&Y._call.call(void 0,W),Y=Y._next;--z}()}finally{z=0,function te(){for(var Y,pe,W=se,j=1/0;W;)W._call?(j>W._time&&(j=W._time),Y=W,W=W._next):(pe=W._next,W._next=null,W=Y?Y._next=pe:se=pe);Z=Y,He(j)}(),_=0}}function O(){var Y=x.now(),W=Y-K;W>L&&(k-=W,K=Y)}function He(Y){z||(S&&(S=clearTimeout(S)),Y-_>24?(Y<1/0&&(S=setTimeout(ae,Y-x.now()-k)),C&&(C=clearInterval(C))):(C||(K=x.now(),C=setInterval(O,L)),z=1,w(ae)))}Q.prototype=ie.prototype={constructor:Q,restart:function(Y,W,pe){if("function"!=typeof Y)throw new TypeError("callback is not a function");pe=(null==pe?D():+pe)+(null==W?0:+W),!this._next&&Z!==this&&(Z?Z._next=this:se=this,Z=this),this._call=Y,this._time=pe,He()},stop:function(){this._call&&(this._call=null,this._time=1/0,He())}}}}]);